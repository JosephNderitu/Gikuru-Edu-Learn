<form id="editMaterialForm" method="post" enctype="multipart/form-data" class="space-y-4">
    {% csrf_token %}
    
    <div class="grid grid-cols-1 gap-4">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Title *</label>
            <input type="text" name="title" value="{{ form.title.value|default:'' }}" 
                   class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                   required>
            {% if form.title.errors %}
            <p class="text-red-600 text-xs mt-1">{{ form.title.errors.0 }}</p>
            {% endif %}
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Subject *</label>
            <select name="subject" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" required>
                <option value="">Select a subject</option>
                {% for subject in form.subject.field.queryset %}
                    <option value="{{ subject.id }}" {% if subject.id == form.subject.value %}selected{% endif %}>
                        {{ subject.title }}
                    </option>
                {% endfor %}
            </select>
            {% if form.subject.errors %}
            <p class="text-red-600 text-xs mt-1">{{ form.subject.errors.0 }}</p>
            {% endif %}
        </div>

        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
            <textarea name="description" rows="3" 
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">{{ form.description.value|default:'' }}</textarea>
            {% if form.description.errors %}
            <p class="text-red-600 text-xs mt-1">{{ form.description.errors.0 }}</p>
            {% endif %}
        </div>
    </div>

    <!-- Resource Options -->
    <div class="border-t border-gray-200 pt-4">
        <h3 class="text-sm font-semibold text-gray-800 mb-3">Resource Options</h3>
        
        <div class="space-y-3">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    <i class="fas fa-file mr-1"></i>File Upload
                </label>
                <input type="file" name="file" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                {% if form.file.errors %}
                <p class="text-red-600 text-xs mt-1">{{ form.file.errors.0 }}</p>
                {% endif %}
                {% if material.file %}
                <p class="text-xs text-gray-600 mt-1">
                    Current: <a href="{{ material.file.url }}" target="_blank" class="text-blue-600 hover:underline">{{ material.file.name }}</a>
                </p>
                {% endif %}
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    <i class="fas fa-video mr-1"></i>Video URL
                </label>
                <input type="url" name="video_url" value="{{ form.video_url.value|default:'' }}"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                       placeholder="https://...">
                {% if form.video_url.errors %}
                <p class="text-red-600 text-xs mt-1">{{ form.video_url.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">
                    <i class="fas fa-link mr-1"></i>External Link
                </label>
                <input type="url" name="external_link" value="{{ form.external_link.value|default:'' }}"
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                       placeholder="https://...">
                {% if form.external_link.errors %}
                <p class="text-red-600 text-xs mt-1">{{ form.external_link.errors.0 }}</p>
                {% endif %}
            </div>
        </div>
    </div>
</form>